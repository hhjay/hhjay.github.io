---
title: ECMA Script 6/7新特性
date: 2018-04-23 10:08:32
tags: js
---

## es6
- 块作用域
    - 块作用域和函数作用域：var声明变量时会声明提前，即在函数头部就声明变量，但let是在代码块里声明
    ```JavaScript
        // 函数作用域
        function A() {
            // 变量在此处已声明
            console.log(i); // undefind
            if( true ) {
                i = 1;
                console.log(i); // 1
            }
            var i = 0;
            console.log(i); // 0
        }
        console.log(i); // i未声明
        /****** 这是一条优雅的分割线 ********/
        // 块作用域
        function B() {
            let i = 0;
            if( true ) {
                console.log(1, i); // error
                let i = 1;
                console.log(2, i); // 1 是if里面代码块的i
            }
            console.log(3, i); // 0 是function里面代码块的i
        }
    ```
    - let：声明变量，在let所在代码块里有效
    - const：声明常量，一旦声明不能修改
    - let和const的区别
        - let可以修改，const不能修改
        - const指向变量所在的地址，所以如果将变量指向的是一个对象，那么常量存的只是地址，故对象是可以修改的。
        ```JavaScript
            const a = {b: 111};
            console.log(a); // { b: 111 }
            a.b = 222;
            console.log(a) // { b: 222 }
        ```
- 模板字符串
- 数组拓展
- 对象拓展
- 函数拓展
- Set和Map
- 遍历器
- Promise
- Class
- 模块和导入

## es7
- includes
    - 数组的includes
    - 与indexOf的区别
        - arr.includes(x) > == arr.indexOf(x) >= 0
        - includes可以找到NaN
        ```JavaScript
            [NaN].includes(NaN) // true
        ```
- 指数运算符
    - x ** y
    ```JavaScript
        2 ** 3 // 8
    ```
- Object
    - values
    - getOwnPropertyDescriptors：获取对象的自身属性描述
    ```JavaScript
        var obj = { book: "1111" };
        Object.getOwnPropertyDescriptors(obj);
        /**
            {
                book: {
                    configurable: true,
                    enumerable: true,
                    writable: true,
                    value: "1111",
                    __proto__: {
                        constructor: f()/Object,
                        hasOwnProperty: f(),
                        isPrototypeOf: f(),
                        propertyIsEnumerable: f(),
                        toLocaleString: f(),
                        toString: f(),
                        valueOf: f()
                    }
                }
            }
        */
    ```

- 字符填充符
```
    'js'.padStart(10);   // "        js"
    'js'.padEnd(10);     // "js        "
    'js'.padStart(10, '**'); // "********js"
```
- 异步函数
    - async/await
    ```JavaScript
        async function fetchG() {
            try {
                let req1 = await fetch();
                let req2 = await req1.next();
                return req2;
            }
        }
    ```

## 怎么兼容

## 参考链接
- [IMWeb.es6](http://imweb.io/topic/55e330d6771670e207a16bbb)
- [w3ctech.es7](https://w3ctech.com/topic/1614)
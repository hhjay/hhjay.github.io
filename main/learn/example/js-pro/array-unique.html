<!DOCTYPE html>
<html>
<head>
	<title>一维数组去重</title>
</head>
<body>
<script type="text/javascript">
	var old = [1, 2, 1, 1, 3, 4, 3, 2, 4, 5, 7, NaN];
	// 使用indexOf
	function indexOfUnique(arr) {
 		var res = [];
 		if ( arr instanceof Array) {
 			var len = arr.length;
 			if ( len > 0 ) {
 				for(var i = 0; i < len; i++){
 					if ( res.indexOf(arr[i]) < 0 ) {
 						res.push(arr[i]);
 					}
 				}
 			}
 		}
 		return res;
	}

	// 使用map
	function mapUnique(arr){
		var res = [];
		arr.map(function(val){ 
			if ( res.indexOf(val) < 0 ) res.push(val);
		});
		return res;
	}

	// 原生for循环
	function forUnique(arr){
		var res = [], len = arr.length;
		for(var i = 0; i < len; i++){
			for(var j = i + 1; j < len; j++){
				// 将当前的元素和后面的循环对比 如果有重复的i自增进入下一个循环
				if ( arr[i] == arr[j] ) j = ++i;
			}
			res.push(arr[i]);
		}
		return res;
	}

	// filter
	function filterUnique(arr){
		return arr.sort().filter(function(val, index, tArr) {
			return val != tArr[index-1];// 排序后判断周边的值是否一致即可
		});
	}
	console.log(filterUnique(old));
</script>
</body>
</html>